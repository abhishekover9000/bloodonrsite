
<!doctype html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>BlooDonr</title>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta name="author" content="BlooDonr Team">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <!-- Fav and Touch Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="#">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="#">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="#">
  <link rel="apple-touch-icon-precomposed" href="#">
  <link rel="shortcut icon" href="#">

  <!-- CSS Plugins -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" media="screen"> 
  <link href="css/animate.css" rel="stylesheet">
  <link href="css/main.css" rel="stylesheet">
  <link href="css/component.css" rel="stylesheet">
  
  <!-- CSS Font Icons -->
  <link rel="stylesheet" href="icons/ionicons/css/ionicons.css">
  <link rel="stylesheet" href="icons/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="icons/pe-icon-7-stroke/css/pe-icon-7-stroke.css">
  <link rel="stylesheet" href="icons/simple-line-icons/css/simple-line-icons.css">
  <link rel="stylesheet" href="icons/rivolicons/style.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Google Fonts -->
  <link href='https://fonts.googleapis.com/css?family=Lato:400,400italic,700,700italic,300italic,300' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,300italic,300,600,600italic,700,700italic' rel='stylesheet' type='text/css'>

  <!-- CSS Custom -->
  <link href="css/style.css" rel="stylesheet">


  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  
</head>

<body>

  
  <!-- BEGIN # MODAL LOGIN -->
  <div class="modal fade modal-login modal-border-transparent" id="loginModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        
        <button type="button" class="btn btn-close close" data-dismiss="modal" aria-label="Close">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
        
        <div class="clear"></div>
        
        <!-- Begin # DIV Form -->
        <div id="modal-login-form-wrapper">
          
          <!-- Begin # Login Form -->
          <form id="login-form" data-toggle="validator">
          
            <div class="modal-body pb-5">
          
              <h4 class="text-center heading mt-10 mb-20">Pre Register</h4>
              
              <div class="form-group"> 
                <input id="fullname1" class="form-control" placeholder="Full Name" type="text" required onKeyUp="validate('fullname1')"> 
                <span id="fullname1error"> </span>

              </div>
              <div class="form-group"> 
                <input id="email1" class="form-control" placeholder="Email" type="email" required onKeyUp="validate('email1')"> 
                <span id="email1error"> </span>
              </div>
              <div class="form-group"> 
                <input id="location1" class="form-control" placeholder="Location" type="text" required onKeyUp="validate('location1')"> 
                <span id="location1error"> </span>            
              </div>
            
            </div>
            
            <div class="modal-footer">
            
              <div class="row gap-10">
                <div class="col-xs-6 col-sm-6 mb-10">
                  <button type="submit" onClick="sendAjax(1)" class="btn btn-primary btn-block">Pre Register</button>
                </div>
                <div class="col-xs-6 col-sm-6 mb-10">
                  <button type="submit" class="btn btn-primary btn-block btn-inverse" data-dismiss="modal" aria-label="Close">Cancel</button>
                </div>
              </div>
              <div class="text-left">
                Not in Bay Area? 
                <button data-toggle="modal" href="#applyModal" type="button" class="btn btn-link">Register</button>
              </div>
              
            </div>
          </form>
          <!-- End # Login Form -->
                
        </div>
        <!-- End # DIV Form -->
                
      </div>
    </div>
  </div>
  <!-- END # MODAL LOGIN -->
  
  <!-- start Container Wrapper -->
  <div class="container-wrapper">

    <!-- start Header -->
    <header id="header">
    
      <!-- start Navbar (Header) -->
      <nav class="navbar navbar-primary navbar-fixed-top navbar-sticky-function">

        <div class="navbar-top">
        
          <div class="container">
            
            <div class="flex-row flex-align-middle">
              <div class="flex-shrink flex-columns">
                <a class="navbar-logo" href="index.html">
                  <img src="icons/logo.png" alt="Logo" />
                </a>
              </div>
              <div class="flex-columns">
                <div class="pull-right">
                
                  <div class="navbar-mini">
                    <ul class="clearfix">
                      
                      <li class="user-action">
                        <a data-toggle="modal" href="#loginModal" class="btn">Pre Register</a>
                      </li>
                      <li class="user-action">
                        <a href="apply.html" class="btn">Apply</a>
                      </li>

                    </ul>
                  </div>
            
                </div>
              </div>
            </div>

          </div>
          
        </div>
        
        <div class="navbar-bottom hidden-sm hidden-xs">
        
          <div class="container">
          
            <div class="row">
            
              <div class="col-sm-9">
                
                <div id="navbar" class="collapse navbar-collapse navbar-arrow">
                  <ul class="nav navbar-nav" id="responsive-menu">
                    <li><a href="index.html">Home</a>
                    </li>
                    
                    <li><a href="about.html">About Us</a></li>
                    
                    <li><a href="contact.html">Contact us</a></li>
                  </ul>
                </div><!--/.nav-collapse -->
                
              </div>
              
              <div class="col-sm-3">
              
                <div class="navbar-phone"><i class="fa fa-phone"></i> Call us: <a href="tel:408-827-5498" > (408) 827-5498 </a> </div>
              
              </div>

            </div>
            
          </div>
        
        </div>

        <div id="slicknav-mobile"></div>
        
      </nav>
      <!-- end Navbar (Header) -->

    </header>
    
    <div class="clear"></div>
  
    <!-- start Main Wrapper -->
    <div class="main-wrapper">
    
      <!-- start end Page title -->
      <div class="page-title" style="background-image:url('icons/background.jpg');">
        
        <div class="container">
        
          <div class="row">
          
            <div class="col-sm-10 col-sm-offset-1 col-md-6 col-md-offset-3">
            
              <h1 class="hero-title">User Survey</h1>
            
              
            </div>
            
          </div>

        </div>
        
      </div>
      <!-- end Page title -->

      <div class="content-wrapper">
  
                        
        
          <div class="container-fluid">
          
            <div class="row">

              <div class="col-sm-8 col-md-6 col-sm-offset-2 col-md-offset-3">
                
                <div class="section-title">
                
                  <h3></h3>
                  
                </div>
                
              </div>
            
            </div>            
                
                  <div class="row">
                  
                    <div class="col-md-4 col-md-offset-4">
                    
                      <div id="1" class="formElement seen">
                        <h4 class="formQuestion"> Do You Donate Blood? </h4>
                        <div class="form-group">
                        <input type="radio" id="1yes" name="q1" value="yes"> Yes </input>
                        <input type="radio" id="1no" name="q1" value="yes"> No </input>
                        </div>
                        <div class="form-group">
                        <input type="text" class="form-control" id="1yestext" placeholder="If Yes, how many times in an year?"/> <div id="1yestexterror"> </div>
                        </div>
                        <div class="form-group">
                        <button type="submit" onClick="proceed(1,2,3, [{'id': '1yes','validation': 'length', 'operator': 'notnull', 'number':0}])" class="btn btn-primary btm-sm mt-5">Proceed</button>
                        </div>
                      </div>
                    
                    </div>

                    <div class="col-md-4 col-md-offset-4">
                     
                      <div id="2" class="formElement hidden">
                        <h4 class="formQuestion"> Did You Know the Blood you Donate is Being Sold? </h4>
                        <div class="form-group">
                        <input type="radio" id="2yes" name="q2" value="yes"> Yes </input>
                        <input type="radio" id="2no" name="q2" value="no"> No </input>
                        </div>
                                                <div class="form-group">

                        <button type="submit" onClick="proceed(2,4,8, [])" class="btn btn-primary btm-sm mt-5">Proceed</button>
                      </div>
                      </div>
                    
                    </div>

                    <div class="col-md-4 col-md-offset-4">
                    
                      <div id="3" class="formElement hidden">
                        <h4 class="formQuestion"> Would You Donate Blood if You got Compensated for it? </h4>
                                                <div class="form-group">

                        <input type="radio" id="3yes" name="q3" value="yes"> Yes </input>

                        <input type="radio" id="3no" name="q3" value="yes"> No </input>
                        </div>
                                                <div class="form-group">

                        <button type="submit" onClick="proceed(3,7,6, [])" class="btn btn-primary btm-sm mt-5">Proceed</button>
                      </div>
                      </div>
                    
                    </div>
                    <div class="col-md-4 col-md-offset-4">
                    
                      <div id="4" class="formElement hidden">
                        <h4 class="formQuestion"> Do You Want to Join Our Beta Group and Help Us Do Something About It? </h4>
                                                <div class="form-group">

                        <input type="radio" id="4yes" name="q4" value="yes"> Yes </input>

                        <input type="radio" id="4no" name="q4" value="no"> No </input>
                        </div>
                                                <div class="form-group">

                        <button type="submit" onClick="proceed(4,5,6, [])" class="btn btn-primary btm-sm mt-5">Proceed</button>
                      </div>
                      </div>
                    
                    </div>

                    <div class="col-md-4 col-md-offset-4">
                    
                      <div id="5" class="formElement hidden">
                        <h4 class="formQuestion"> Whats the Best Way to Get in Contact? </h4>
                        <div class="form-group">
                        <input type="number" class="form-control"  id="surveyphone" placeholder="Phone" />
                        <span id="surveyphoneerror"> </span>

                        </div>

                                                <div class="form-group">

                                      <input type="text" id="surveyemail" class="form-control" placeholder="Email" />
                                      <span id="surveyemailerror"> </span>
                                      </div>
                                                <div class="form-group">

                        <button type="submit" onClick="submitSurvey()" class="btn btn-primary btm-sm mt-5">Let's Go!</button>
                      </div>
                      </div>
                    
                    </div>

                   <div class="col-md-4 col-md-offset-4">

                   <div id="6" class="formElement hidden">
                   <div class="form-success">
                  <div class="icon">
                    <i class="pe-7s-check text-success"></i>
                  </div>
                <h4 class="formQuestion heading uppercase mt-0 text-success">Thanks for Your Time</h4>
                </div>
                <div class="btn-group">
                        <a href="/" class="btn btn-info">Browse Faq's</a>  
                        <a href="/" class="btn btn-primary">Go to Home</a>   
                </div>                 
                    </div>
                  </div>

                  <div class="col-md-4 col-md-offset-4">
                    
                      <div id="7" class="formElement hidden">
                        <h4 class="formQuestion"> OK do you want to join our beta group to make sure your voice gets heard?</h4>
                                                <div class="form-group">

                        <input type="radio" id="7yes" name="q7" value="yes"> Yes </input>

                        <input type="radio" id="7no" name="q7" value="no"> No </input>
                        </div>
                                                <div class="form-group">

                        <button type="submit" onClick="proceed(7,5,6, [])" class="btn btn-primary btm-sm mt-5">Proceed</button>
                      </div>
                      </div>
                    </div>  

                  <div class="col-md-4 col-md-offset-4">
                    
                      <div id="8" class="formElement hidden">
                        <h4 class="formQuestion"> Now that you know, are you ready for a fairer system?</h4>
                                                <div class="form-group">

                        <input type="radio" id="8yes" name="q8" value="yes"> Yes </input>

                        <input type="radio" id="8no" name="q8" value="no"> No </input>
                        </div>
                                                <div class="form-group">

                        <button type="submit" onClick="proceed(8,4,6, [])" class="btn btn-primary btm-sm mt-5">Proceed</button>
                      </div>
                      </div>
                    </div>              

                    
                  </div>

                </div>
              
              </div>
                        
          </div>
          
        </div>
        
      

    </div>
    <!-- end Main Wrapper -->

    <footer class="footer">
      
      <div class="container">
      
        <div class="main-footer">
        
          <div class="row">
        
            <div class="col-xs-12 col-sm-5 col-md-3">
              <div>
                          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3171.012206919469!2d-121.96325888535931!3d37.36588804335257!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808fca3b298e6991%3A0xeb7a7ade8946d6d0!2s2040+Martin+Ave%2C+Santa+Clara%2C+CA+95050!5e0!3m2!1sen!2sus!4v1469300646660" width="200" height="200" frameborder="10" style="border:0" allowfullscreen></iframe>

              </div>
              
              <p class="footer-address">2040 Martin Ave<br/>Santa Clara, CA 95050<br/> <i class="fa fa-phone"></i> +66 28 878 5452 <br/><br/> <i class="fa fa-envelope-o"></i> <a href="#">info@bloodonr.com</a></p>
              
             <div class="footer-social">
              
                <a href="#" data-toggle="tooltip" data-placement="top" title="BlooDonR Facebook"><i class="fa fa-facebook"></i></a>
                <a href="https://twitter.com/@blooDonr" data-toggle="tooltip" data-placement="top" title="BlooDonR Twitter"><i class="fa fa-twitter"></i></a>
                <a href="#" data-toggle="tooltip" data-placement="top" title="BlooDonR Google Plus"><i class="fa fa-google-plus"></i></a>
                <a href="https://in.pinterest.com/bloodonr/" data-toggle="tooltip" data-placement="top" title="BlooDonR Pinterest"><i class="fa fa-pinterest"></i></a>
                <a href="http://bloodonr.tumblr.com/" data-toggle="tooltip" data-placement="top" title="BlooDonR TumBlr"><i class="fa fa-tumblr"></i></a>
              
              </div>
              
              <p class="copy-right">&#169; Copyright 2016 BlooDonr. All Rights Reserved</p>
              
            </div>
            
            <div class="col-xs-12 col-sm-7 col-md-9">

              <div class="row gap-10">
              
                <div class="col-xs-12 col-sm-4 col-md-3 col-md-offset-3 mt-30-xs">
                
                  <h5 class="footer-title">About BlooDonr</h5>
                  
                  <ul class="footer-menu">
                  
                    <li><a href="#">Who we are</a></li>
                    <li><a href="#">Careers</a></li>
                    <li><a href="#">Legal</a></li>
                    <li><a href="#">Partners</a></li>
                    <li><a href="#">Privacy notice</a></li>
                    
                  </ul>
                  
                </div>
                
                <div class="col-xs-12 col-sm-4 col-md-3 mt-30-xs">

                  <h5 class="footer-title">Services</h5>
                  
                  <ul class="footer-menu">
                  
                    <li><a href="#">Payment</a></li>
                    <li><a href="#">Feedback</a></li>
                    <li><a href="#">Contact us</a></li>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Site map</a></li>
                    
                  </ul>
                  
                </div>
                
               
                
              </div>

            </div>
            
          </div>

        </div>
        
      </div>
      
    </footer>
    
  </div>  <!-- end Container Wrapper -->
 

 
  <!-- start Back To Top -->
  <div id="back-to-top">
     <a href="#"><i class="fa fa-angle-up"></i></a>
  </div>
  <!-- end Back To Top -->


    <!-- BEGIN # MODAL LOGIN -->
  <div class="modal fade modal-login modal-border-transparent" id="applyModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        
        <button type="button" class="btn btn-close close" data-dismiss="modal" aria-label="Close">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
        
        <div class="clear"></div>
        
        <!-- Begin # DIV Form -->
        <div id="modal-login-form-wrapper">
          
          <!-- Begin # Login Form -->
          
            <div class="modal-body pb-5">
          
              <h4 class="text-center heading mt-10 mb-20">Outside of the Bay?</h4>
              <p>Feel free to register</p>
              
              <div class="form-group survey-item"> 
                <input id="email" class="form-control" placeholder="Email" type="text" required onClick="validate('email')"> 
                <span id="emailerror"> </span>
              </div>
              <div class="form-group survey-item"> 
                <input id="fullname" class="form-control" placeholder="Full Name" type="text" required onClick="validate('fullname')"> 
                <span id="fullnameerror"> </span>
              </div>
              <div class="form-group survey-item"> 
                <input id="location" class="form-control" placeholder="Location" type="text" required onClick="validate('location')">
                <span id="locationerror"> </span>
              </div>
            
            </div>
            
            <div class="modal-footer">
            
              <div class="row gap-10">
                <div class="col-xs-6 col-sm-6 mb-10">
                  <button onClick="sendAjax(3)" class="btn btn-primary btn-block">Submit</button>
                </div>
                <div class="col-xs-6 col-sm-6 mb-10">
                  <button type="submit" class="btn btn-primary btn-block btn-inverse" data-dismiss="modal" aria-label="Close">Cancel</button>
                </div>
              </div>
              
            </div>
          <!-- End # Login Form -->               
        </div>
        <!-- End # DIV Form -->
                
      </div>
    </div>
  </div>
  <!-- END # MODAL LOGIN -->



<!-- JS -->
<script type="text/javascript" src="js/jquery-2.2.4.min.js"></script>
<script type="text/javascript" src="js/jquery-migrate-1.2.1.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/jquery.waypoints.min.js"></script>
<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="js/SmoothScroll.min.js"></script>
<script type="text/javascript" src="js/jquery.slicknav.min.js"></script>
<script type="text/javascript" src="js/jquery.placeholder.min.js"></script>
<script type="text/javascript" src="js/spin.min.js"></script>
<script type="text/javascript" src="js/jquery.introLoader.min.js"></script>
<script type="text/javascript" src="js/select2.full.js"></script>
<script type="text/javascript" src="js/jquery.responsivegrid.js"></script>
<script type="text/javascript" src="js/readmore.min.js"></script>
<script type="text/javascript" src="js/slick.min.js"></script>
<script type="text/javascript" src="js/validator.min.js"></script>
<script type="text/javascript" src="js/jquery.raty.js"></script> 
<script type="text/javascript" src="js/customs.js"></script>


<script type="text/javascript" src="js/formvalidation.js"></script>

<script>
   var locations= [
        {"id": "fullname", "type": "text", "form":3}

      ];

    var validations=[
      {"id": "fullname", "validation": "length", "operator": "notnull", "number":0},
      {"id": "fullname", "validation": "length", "operator": "leq", "number":40},
      {"id": "yes1", "validation": "length", "operator": "notnull", "number":0}

    ];

    var ajaxinfo=[
      {'url': '/php/preregister.php','type':'POST','redirect':'/thankyou.html'}
    ];

    // User Survey Form //
    var totalformitems=8;

    function proceed(item, yes, no, validators){
      var itemyes= document.getElementById(item+"yes");
      var itemno= document.getElementById(item+"no");
      if (validators.length > 0){
      var valid= console.log(validators);
      var id= validators[0].id+"text";
      var operator= validators[0].operator+"";
      }
      // nothing is checked
      if (! (itemyes.checked || itemno.checked))
        // display error
        displayMessage(item+"error", "red", "must check something!");
      else
        if (itemyes.checked){
          if (validators.length > 0){ // not null check
            if (checkLength(id, operator))
              displayElement(yes);
          }
          else{
            displayElement(yes);
          } 
        }
      else{
        displayElement(no);
      }
    }

    function displayElement(item){

      for (var i=1; i< totalformitems+1; i++){
        if (i == item){
          $("#"+item).removeClass('hidden');
          $("#"+item).addClass('seen');
        }
        else{
          $('#'+i).removeClass("seen");
          $('#'+i).addClass("hidden");
        }
      }

    // if it's 6 send the survey
    if (item == 6){
        submitSurvey();
    }

    }

    function submitSurvey(){
      // get data object
      var survey=[];
      for (var i=1; i<totalformitems+1; i++){
        if (i != 5 && i != 6){
          var yes= document.getElementById(i+"yes").checked;
          var no= document.getElementById(i+"no").checked;
          // check if yes has input
          if (document.getElementById(i+'yestext') != null)
            var yestext= document.getElementById(i+'yestext').value;
          else
            var yestext=null;
          // check if no has input 
          if (document.getElementById(i+'notext') != null)
            var notext= document.getElementById(i+'notext').value;
          else
            var notext= null;

          var item={"question":i, "yes": yes, "no": no, "yestext": yestext, "notext": notext};
          survey.push(item);
        }
      }
      // get contact info
      var email= document.getElementById("surveyemail");
      var phone= document.getElementById("surveyphone");

      if (checkLength("surveyemail","notnull", 0) && checkLength("surveyphone","notnull",0) && checkReg("surveyphone","phone") && checkReg("surveyemail", "email"))
        var flag = true;
      else
        var flag = false;

      // regexpression

      data={"email": email.value, "phone": phone.value, "survey": survey};
     
      //send ajax
      if (flag == true)
        { $.ajax({
        data: JSON.stringify(data),
        url: `php/usersurvey.php`,
        type: 'POST',
        contentType: "application/json",
        dataType: "json",
        success: function ( data ) {
          window.location.href = "/congrats.html";
          //data
        },
        error: function(data){
          console.log(data);
          console.log("error");
           //displayMessage(data.id, data.message, 'red');
        }
      });
    }
  }

</script>


</body>
</html>